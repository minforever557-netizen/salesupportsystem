<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>SALE PORTAL | Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />
</head>

<body class="auth-body">

  <!-- =========================
       LOGIN CARD
  ========================= -->
  <div class="auth-card">

    <h1 class="auth-title">SALE PORTAL</h1>
    <p class="card-subtitle">Support Management System</p>

    <form id="loginForm">

      <div class="form-group">
        <label>อีเมลผู้ใช้งาน</label>
        <input
          type="email"
          class="input"
          id="email"
          required
          placeholder="example@email.com"
        />
      </div>

      <div class="form-group">
        <label>รหัสผ่าน</label>
        <input
          type="password"
          class="input"
          id="password"
          required
          placeholder="••••••••"
        />
      </div>

      <button type="submit" class="btn" id="loginBtn">
        เข้าสู่ระบบ
      </button>

    </form>

    <div class="text-center" style="margin-top:16px;">
      <a href="#" class="link">ลืมรหัสผ่าน?</a>
      <span class="divider">|</span>
      <a href="#" class="link">สมัครสมาชิก</a>
    </div>

  </div>

  <!-- =========================
       LOADING OVERLAY
  ========================= -->
  <div id="loadingOverlay" class="overlay hidden">
    <div class="spinner"></div>
    <p>กำลังเข้าสู่ระบบ...</p>
  </div>

  <!-- =========================
       SCRIPT
  ========================= -->
  <script>
    const form = document.getElementById("loginForm");
    const overlay = document.getElementById("loadingOverlay");
    const btn = document.getElementById("loginBtn");

    // ป้องกัน overlay ค้างตอน refresh / logout
    window.addEventListener("load", () => {
      overlay.classList.add("hidden");
      btn.disabled = false;
    });

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      // show loading
      overlay.classList.remove("hidden");
      btn.disabled = true;

      // ===== ตัวอย่างจำลอง Login =====
      setTimeout(() => {
        // ตัวอย่าง login สำเร็จ
        window.location.href = "dashboard.html";

        // ถ้า login ไม่ผ่าน ให้ใช้แบบนี้แทน
        // overlay.classList.add("hidden");
        // btn.disabled = false;
        // alert("อีเมลหรือรหัสผ่านไม่ถูกต้อง");

      }, 1800);
    });

    // ใช้ตอน logout (เรียกจากหน้าอื่น)
    function forceBackToLogin() {
      overlay.classList.add("hidden");
      window.location.href = "index.html";
    }
  </script>

</body>
</html>
